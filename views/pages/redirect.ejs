<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Connect with SoundCloud</title>
    <script src="https://connect.soundcloud.com/sdk-2.0.0.js"></script>
</head>
<body data-isOAuth-done="false">
    <script>
        ;(function(window) {
            function getParameterByName(name, url) {
              if (!url) {
                url = window.location.href;
              }
              name = name.replace(/[\[\]]/g, "\\$&");
              var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                  results = regex.exec(url);
              if (!results) return null;
              if (!results[2]) return '';
              return decodeURIComponent(results[2].replace(/\+/g, " "));
            }

            // Soundcloud info
            var SC_CLIENT_ID = getParameterByName('SC_CLIENT_ID')
                , SC_CLIENT_SECRET = getParameterByName('SC_CLIENT_SECRET')
                , SC_REDIRECT_URI = 'http://sc-redirect.herokuapp.com/callback.html';

            // initialize client with app credentials
            SC.initialize({
              client_id: SC_CLIENT_ID
              , redirect_uri: SC_REDIRECT_URI
            });

            // initiate auth popup
            SC.connect(function() {
              if ( SC.isConnected ) {
                document.body.setAttribute('data-isOAuth-done', 'true');
              }
            });

        })(window);
    </script>
</body>
</html>
